<!DOCTYPE html>
<html>
<head>
<title>Guardians - DSC</title>
<link rel="stylesheet" type="text/css" href="../questoes.css" media="screen" />
</head>
<body>
<h><a href="../index.html">Shell Scripting</a></h>
<h1><a href="../q1.html">Exercício 1</a></h1>

<h4>Solução 2 &ensp;<a href="https://github.com/ekarani/newbies/blob/entrega_final/resolucoes_comentadas/exercicio_1/solucao2.sh">(Arquivo .sh)</a></h4>

<div>
    <pre>
        #!/bin/bash

        # Por Ekarani Silvestre

        cp ../jan_95.txt.gz ./ # copia o arquivo do diretório superior (../) para o diretório local (./)
        gzip --decompress jan_95.txt.gz #descomprime o arquivo

        # O comando cat é usado para unir, criar e exibir arquivos
        # 	cat no formato
        #		cat arquivo1.txt > arquivo2.txt
        #	serve pra copiar o conteúdo do primeiro arquivo para criar o segundo

        # No caso abaixo, o cat serve para criar um novo arquivo junto ao grep
        # O grep é um comando que procura padrões num arquivo
        cat jan_95.txt | grep "\- -" > valid-requests.txt

        # grep -o quer dizer "only matching", que mostra partes não vazias da linha que é igual ao padrão
        # já wc -l conta o número de linhas em que o padrão aparece
        local_req=`grep -o "local" valid-requests.txt | wc -l`
        remote_req=`grep -o "remote" valid-requests.txt | wc -l`

        echo "Requisições Locais: $local_req"
        echo "Requisições Remotas: $remote_req"

        rm valid-requests.txt
    </pre>
</div>

<p>&ensp;</p>

<h4><a href="comentadas.html">Resoluções comentadas</a></h4>


</body>
</html>
